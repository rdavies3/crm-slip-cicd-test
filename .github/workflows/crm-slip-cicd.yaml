name: deploy-app

on:
  push:
    branches:
      - dev
      - qa
  pull_request:
    branches:
      - main

env: 
  URL: https://elastic.snaplogic.com
  APP_NAME: ${{ github.event.repository.name }}
  MY_ORG: ${{ github.ref == 'refs/heads/main' && 'asu-prod'|| 'asu-np' }}
  SHORT_SHA: $(git rev-parse --short=7 "${{ github.sha }}")

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
  
jobs:
  build: 
    runs-on: ubuntu-latest
    steps:
      - name: Print MY_ORG
        run: echo "MY_ORG is ${{ env.MY_ORG }}""
      
      - name: Print SHORT_SHA
        run: echo "SHORT_SHA ${{ env.SHORT_SHA }}"
